apply plugin: 'idea'
apply plugin: 'maven'
apply plugin: 'groovy'

description = "Flyway plugin for Gradle"

group = "org.gradle.api.plugins"
version = "2.0-SNAPSHOT"

repositories {
    mavenCentral()
}


dependencies {
    compile gradleApi()
    compile "com.googlecode.flyway:flyway-core:1.7"

    groovy localGroovy()

    testCompile "com.h2database:h2:1.3.160"
}


def mavenLocalRepository = System.env.M2_HOME ?: "repo"

task("release") {
    mavenLocalRepository = "release"
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: uri(mavenLocalRepository))
        }
    }
}


